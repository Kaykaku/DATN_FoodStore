<!DOCTYPE html>
<html lang="en" xmlns:th="http://wwww.thymeleaf.org"
	th:replace="~{/layout/layout::dynamic(~{::body})}">

<head>
<title>FoodStore</title>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>

<body class="goto-here">
	<div th:replace="/layout/_header_title.html"></div>
	<section class="ftco-section">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 mb-5 ftco-animate">
					<a th:href="@{|/images/${item.food_images[0].image_name}|}"
						style="height: max-content;" class="image-popup prod-img-bg"><img
						th:src="@{|/images/${item.food_images[0].image_name}|}" class="img-fluid"
						alt="Colorlib Template" style="width: 100%;"></a>
				</div>
				<div class="col-lg-6 product-details pl-md-5 ftco-animate">
					<h3>[[${item.name}]]</h3>
					<div class="rating d-flex">
						<p class="text-left mr-4">
							<a th:each="c,state:${item.category_foods}" th:href="@{|/shop/${c.category_f.name}|}" class="mr-2">[[${c.category_f.display_name}]]</a>
						</p>
						<p class="text-left mr-4">
							<a href="#" class="mr-2" style="color: #000;">100 <span
								style="color: #bbb;">Rating</span></a>
						</p>
						<p class="text-left">
							<a href="#" class="mr-2" style="color: #000;">500 <span
								style="color: #bbb;">Sold</span></a>
						</p>
					</div>
					<p class="price mb-0">
						<span>[[${item.price}]] VND</span>
					</p>
					<div class="col-md-12 pl-0">
						<span class="badge badge-info" style="font-size: 16px;">[[${item.quantity_limit >0 ?'Available':'Out of sock'}]]</span>
					</div>
					<div class="col-md-12 pl-0" style="font-weight: bold;">
						[[#{product.date}]] : <span class="badge badge-secondary" style="font-size: 16px;">[[${item.create_date}]]</span>
					</div>
					<p>[[${item.description}]]</p>
					<div class="row mt-4">
						<div class="col-md-6">
							<div class="form-group d-flex"></div>
						</div>
						<div class="w-100"></div>
						<div class="input-group col-md-6 d-flex mb-3">
							<span class="input-group-btn mr-2" ng-init="quanz=1">
								<button type="button" class="quantity-left-minus btn"
									data-type="minus" data-field="" ng-click="count > 1 ? count = count - 1:1" ng-init="count=1">
									<i class="ion-ios-remove"></i>
								</button>
							</span> <input type="text" id="quantity" name="quantity" ng-model="count"
								class="quantity form-control input-number" value="1" min="1"
								max="100"> <span class="input-group-btn ml-2">
								<button type="button" class="quantity-right-plus btn" ng-click="count = count + 1"
									data-type="plus" data-field="">
									<i class="ion-ios-add"></i>
								</button>
							</span>
						</div>
						<div class="w-100"></div>

					</div>
					<p>
						<a href="" th:attr="ng-click=@{|cart.add(${item.id},count)|}" class="btn btn-black py-3 px-5 mr-2">[[#{product.addcart}]]</a>
					</p>
				</div>
			</div>
			<!-- review -->
			<div class="row mt-5">
          <div class="col-md-12 nav-link-wrap">
            <div class="nav nav-pills d-flex text-center justify-content-center" id="v-pills-tab" role="tablist" aria-orientation="vertical">
              <a class="nav-link ftco-animate active mr-lg-1 col-5" id="v-pills-1-tab" data-toggle="pill" href="#v-pills-1" role="tab" aria-controls="v-pills-1" aria-selected="true">Description</a>
              <a class="nav-link ftco-animate col-5" id="v-pills-3-tab " data-toggle="pill" href="#v-pills-3" role="tab" aria-controls="v-pills-3" aria-selected="false">Reviews</a>
            </div>
          </div>
          <div class="col-md-12 tab-wrap">
            
            <div class="tab-content bg-light" id="v-pills-tabContent">

              <div class="tab-pane fade show active" id="v-pills-1" role="tabpanel" aria-labelledby="day-1-tab">
              	<div class="p-4">
	              	<h3 class="mb-4">[[${item.name}]]</h3>
	              	<p>[[${item.description}]]</p>
              	</div>
              </div>
              <div class="tab-pane fade" id="v-pills-3" role="tabpanel" aria-labelledby="v-pills-day-3-tab">
              	<div class="row p-4">
						   		<div class="col-md-7">
						   			<h3 class="mb-4">[[${comments.size()}]] Comments(s)</h3>
						   			<div class="review" th:each="c:${comments}">
								   		<div class="user-img" th-style="${c.review.customer_r.avatar} ? 'background-image: url(images/${c.review.customer_r.avatar})' : ''"></div>
								   		<div class="desc">
								   			<h4>
								   				<span class="text-left">[[${c.review.customer_r.username}]]</span>
								   				<span class="text-right">[[${#dates.format(c.create_date, 'dd-MMM-yyyy hh:mm:ss ')}]] </span>
								   			</h4>
								   			<p class="star" >
								   				<span>
								   					<i class="" th:classappend="${c.review.rating} >=1 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
								   					<i class="" th:classappend="${c.review.rating} >=2 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
								   					<i class="" th:classappend="${c.review.rating} >=3 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
								   					<i class="" th:classappend="${c.review.rating} >=4 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
								   					<i class="" th:classappend="${c.review.rating} >=5 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
							   					</span>
							   					<span class="text-right"><a href="#" class="reply"><i class="icon-reply"></i></a></span>
								   			</p>
								   			<p>[[${c.content}]]</p>
								   		</div>
								   	</div>
						   		</div>
						   		<div class="col-md-4">
						   			<div class="rating-wrap">
							   			<h3 class="mb-4">[[${item.food_reviews.size()}]] Review(s)</h3>
							   			<p class="star" th:each="i : ${ratingStatus}">
							   				<span>
							   					<i class="" th:classappend="${i.key} >=1 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
							   					<i class="" th:classappend="${i.key} >=2 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
							   					<i class="" th:classappend="${i.key} >=3 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
							   					<i class="" th:classappend="${i.key} >=4 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
							   					<i class="" th:classappend="${i.key} >=5 ? 'ion-ios-star' : 'ion-ios-star-outline'"></i>
							   					[[${i.value*100 / item.food_reviews.size()}]] %
						   					</span>
						   					<span>[[${i.value}]] Review(s)</span>
							   			</p>
							   			
							   		</div>
						   		</div>
						   	</div>
              </div>
            </div>
          </div>
        </div>
		</div>
		
	</section>
</body>

</html>